/**
 * var jsonTest = "동해물과 {key1}이 마르고 닳도록 {KEY_2}이 보우하사 우리나라만세";
 * var arrayTest = "동해물과 {0}이 마르고 닳도록 {1}이 보우하사 우리나라만세";
 * 
 * console.log(format(jsonTest, { key1: '백두산', KEY_2: '하느님' })); => 동해물과 백두산이 마르고 닳도록 하느님이 보우하사 우리나라만세
 * console.log(format(arrayTest, '백두산', '하느님')); => 동해물과 백두산이 마르고 닳도록 하느님이 보우하사 우리나라만세
 *
 * TODO: requirejs 지원
 */
var format=function(n){if(0===arguments.length)return"";if(1===arguments.length)return String(n);var t;
// arguments[0] == JSON
t=2!==arguments.length||"object"!=typeof arguments[1]||"length"in arguments[1]?arguments:arguments[1];var r=n.replace(/\{[A-Za-z0-9\_\.]+\}/g,function(n,r){// || 연산자를 사용하면 0도 걸려서 사용할 수 없다.
return val=t[n.substring(1,n.length-1)],(void 0===val||null===val)&&(val=""),val});return r};